<h2 class="text-xl font-semibold text-gray-900 mb-6">Sécurité du compte</h2>
<div class="space-y-8">
  <!-- Changement de mot de passe -->
  <div class="bg-blue-50 p-6 rounded-lg">
    <h3 class="text-lg font-medium text-gray-900 mb-4">Changer le mot de passe</h3>
    <%= form_with(model: current_user, url: registration_path(current_user), local: true, method: :patch, class: "space-y-4") do |form| %>
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Mot de passe actuel</label>
        <%= form.password_field :current_password, required: true, autocomplete: "current-password",
                                class: "block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",
                                placeholder: "Entrez votre mot de passe actuel" %>
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Nouveau mot de passe</label>
        <%= form.password_field :password, required: true, autocomplete: "new-password",
                                class: "block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",
                                placeholder: "Entrez votre nouveau mot de passe" %>
        <p class="text-xs text-gray-500 mt-1">Minimum <%= @minimum_password_length || 6 %> caractères</p>
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Confirmer le nouveau mot de passe</label>
        <%= form.password_field :password_confirmation, required: true, autocomplete: "new-password",
                                class: "block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",
                                placeholder: "Confirmez votre nouveau mot de passe" %>
      </div>

      <%= form.submit "Mettre à jour le mot de passe",
                      class: "bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200" %>
    <% end %>
  </div>

  <!-- Réinitialisation par email -->
  <div class="bg-yellow-50 p-6 rounded-lg">
    <h3 class="text-lg font-medium text-gray-900 mb-4">Mot de passe oublié ?</h3>
    <p class="text-sm text-gray-700 mb-4">Si vous avez oublié votre mot de passe, vous pouvez demander un lien de réinitialisation par email.</p>

    <%= form_with(model: User.new, url: password_path(:user), local: true, method: :post, class: "space-y-4") do |form| %>
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Adresse email</label>
        <%= form.email_field :email, required: true, autocomplete: "email",
                              value: current_user.email, readonly: true,
                              class: "block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-gray-50 text-gray-500 focus:outline-none" %>
      </div>

      <%= form.submit "Envoyer le lien de réinitialisation",
                      class: "bg-yellow-600 text-white px-6 py-2 rounded-md hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-yellow-500 transition duration-200" %>
    <% end %>
  </div>

  <!-- Suppression du compte -->
  <div class="bg-red-50 p-6 rounded-lg border border-red-200">
    <h3 class="text-lg font-medium text-red-900 mb-4">Supprimer mon compte</h3>
    <div class="space-y-4">
      <div>
        <p class="text-sm text-red-700 mb-4">Cette action est irréversible. Toutes vos données seront définitivement supprimées.</p>
        <button class="bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 transition duration-200">
          Supprimer le compte
        </button>
      </div>
    </div>
  </div>
</div>
