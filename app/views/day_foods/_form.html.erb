<%= simple_form_for([day, day_food]) do |f| %>
  <div class="grid grid-cols-1 gap-4">
    <%= f.association :food,
        collection: Food.where(user: current_user),
        prompt: "Sélectionnez un aliment",
        disabled: !day_food.new_record?,
        input_html: {
          class: "w-full rounded border border-gray-300 bg-gray-50 focus:bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition appearance-none pr-10",
          style: "background-image: url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"%23374151\" stroke-width=\"2\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M19 9l-7 7-7-7\"/></svg>'); background-position: right 12px center; background-size: 20px 20px; background-repeat: no-repeat;"
        },
        label_html: { class: "font-medium text-gray-700" } %>

    <%= f.association :day_food_group,
        collection: @day_food_groups,
        prompt: "Sélectionnez un groupe",
        input_html: {
          class: "w-full rounded border border-gray-300 bg-gray-50 focus:bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition appearance-none pr-10",
          style: "background-image: url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"%23374151\" stroke-width=\"2\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M19 9l-7 7-7-7\"/></svg>'); background-position: right 12px center; background-size: 20px 20px; background-repeat: no-repeat;"
        },
        label_html: { class: "font-medium text-gray-700" },
        label: "Groupe de repas" %>

    <%= f.input :quantity,
        as: :numeric,
        min: 1,
        input_html: {
          class: "w-full rounded border border-gray-300 bg-gray-50 focus:bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition",
          value: day_food.new_record? ? 100 : day_food.quantity
        },
        label_html: { class: "font-medium text-gray-700" },
        append: "g" %>
  </div>

  <div class="flex justify-center gap-4 mt-8">
    <%= link_to "Annuler", calendars_path, class: "px-6 py-2 bg-gray-200 text-gray-800 rounded-lg shadow hover:bg-gray-300 transition font-semibold text-center text-sm" %>
    <%= f.button :submit, "Enregistrer", class: "px-6 py-2 bg-blue-800 text-white rounded-lg shadow hover:bg-blue-600 transition font-semibold text-center text-sm" %>
  </div>
<% end %>
